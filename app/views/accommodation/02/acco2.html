{% extends "layouts/main.html" %}

{% set pageName="Test" %}

{% block content %}
<div class="govuk-width-container" style="margin-top: -80px;">
  <main class="govuk-main-wrapper app-container govuk-body" id="main-content">
    <div class="govuk-width-container">
      <div class="govuk-grid-row user-feedback">
        <div class="govuk-grid-column-full">
          <div class="govuk-phase-banner user-feedback__banner">
            <p class="govuk-phase-banner__content">
              <strong class="govuk-tag govuk-phase-banner__content__tag">
                Beta
              </strong>
              <span class="govuk-phase-banner__text">
                This is a new service - your <a class="govuk-link user-feedback__link" href="#">feedback (opens in new tab)</a> will help us improve it.
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full offender-details">
          <span style="color: #505A5F; margin: 10px 0; display: block;">
            CRN: X769773 | PNC: 01/17658481A | Date of birth: 02 October 1969
          </span>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; margin-top: 10px;">
            <h3 class="govuk-heading-m" style="margin-bottom: 0;">Alex Smith</h3>
            <a href="#" class="govuk-link print-link">View all answers</a>
          </div>
          <div id="assessment-info" class="govuk-visually-hidden" data-assessment-id="88b81aaa-7af7-49ed-8843-1fad974b3e72"></div>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          <div class="form-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h1 class="govuk-heading-l form-header__title" style="margin-bottom: 0;">Strengths and needs</h1>
            <a href="#"
               role="button"
               draggable="false"
               class="govuk-button govuk-button--secondary"
               data-module="govuk-button"
               data-ai-id="return-to-oasys"
               id="return-to-oasys"
               style="margin-bottom: 0; margin-top: 2px;">
              Return to OASys
            </a>
          </div>
          <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible form-header_hr govuk-grid-column-full" style="margin-top: 10px;">
        </div>
      </div>


      
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-third">
          <nav class="moj-side-navigation" aria-label="Side navigation">
            <ul class="moj-side-navigation__list" style="padding-left: 0; list-style: none;">
              <li class="moj-side-navigation__item moj-side-navigation__item--active" style="background: #f3f2f1; font-weight: bold; border-left: 4px solid #1d70b8; margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" aria-current="location" class="govuk-link" tabindex="-1" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; font-weight: bold; cursor: default; pointer-events: none;">Accommodation</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Employment and education</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Finances</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Drug use</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Alcohol use</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Health and wellbeing</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Personal relationships and community</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Thinking, behaviours and attitudes</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Offence analysis</a>
              </li>
            </ul>
          </nav>
        </div>
        <div class="govuk-grid-column-two-thirds">
          <a href="javascript:history.back()" class="govuk-back-link">Back</a>
          <div class="section-heading">
            <div class="section-heading__heading" style="display: flex; justify-content: space-between; align-items: center;">
              <span class="govuk-caption-l" style="color: #0b0c0c;">Accommodation</span>
              <strong class="govuk-tag govuk-tag--grey" style="align-self: center;">Incomplete</strong>
            </div>
            <h2 class="govuk-heading-l" style="margin-bottom: 0px;">Who was Alex living with?</h2>
            <!-- <div class="govuk-hint" style="color: #505a5f; margin-bottom: 4px;">More details can be added in the following questions.
            </div> -->
          </div>
          <br>
          <div class="govuk-!-width-three-quarters">
            <form id="form" method="post" action="#">
              <div class="govuk-form-group form-group ">
                <fieldset class="govuk-fieldset" aria-describedby="living_with_hint">
                  <legend class="govuk-fieldset__legend living_with govuk-fieldset__legend--m govuk-visually-hidden">
                    Who was Alex living with?
                  </legend>
                  <div id="living_with_hint" class="govuk-hint">
                    Select all that apply.
                  </div>
                  <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_family" name="living_with" type="checkbox" value="Family">
                      <label class="govuk-label govuk-checkboxes__label" for="living_family">Family</label>
                    </div>
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_friends" name="living_with" type="checkbox" value="Friends">
                      <label class="govuk-label govuk-checkboxes__label" for="living_friends">Friends</label>
                    </div>
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_partner" name="living_with" type="checkbox" value="Partner" data-aria-controls="conditional-partner-details">
                      <label class="govuk-label govuk-checkboxes__label" for="living_partner">Partner</label>
                    </div>
                    <div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-partner-details">
                      <div class="govuk-form-group">
                        <label class="govuk-label" for="partner_details">Give details (optional)</label>
                        <div class="govuk-hint">Include name, age and gender.</div>
                        <textarea class="govuk-textarea" id="partner_details" name="partner_details" rows="4" maxlength="2000"></textarea>
                        <div class="govuk-hint" style="margin-top: -25px;">You have 2,000 characters remaining</div>
                      </div>
                    </div>
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_under18" name="living_with" type="checkbox" value="Person under 18 years old">
                      <label class="govuk-label govuk-checkboxes__label" for="living_under18">Person under 18 years old</label>
                      <div class="govuk-hint" style="color: #505a5f; margin-left: 60px;">You will be able to provide more details in the Personal relationships and community section.</div>
                    </div>
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_other" name="living_with" type="checkbox" value="Other" data-aria-controls="conditional-other-details">
                      <label class="govuk-label govuk-checkboxes__label" for="living_other">Other</label>
                    </div>
                    <div class="govuk-checkboxes__conditional govuk-checkboxes__conditional--hidden" id="conditional-other-details">
                      <div class="govuk-form-group">
                        <label class="govuk-label" for="other_details">Give details (optional)</label>
                        <textarea class="govuk-textarea" id="other_details" name="other_details" rows="4" maxlength="2000"></textarea>
                        <div class="govuk-hint" style="margin-top: -25px;">You have 2,000 characters remaining</div>
                      </div>
                    </div>
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_unknown" name="living_with" type="checkbox" value="Unknown">
                      <label class="govuk-label govuk-checkboxes__label" for="living_unknown">Unknown</label>
                    </div>
                    <span style="display:block; margin: 8px 0 16px 10px;">or</span>
                    <div class="govuk-checkboxes__item">
                      <input class="govuk-checkboxes__input" id="living_alone" name="living_with" type="checkbox" value="Alone">
                      <label class="govuk-label govuk-checkboxes__label" for="living_alone">Alone</label>
                    </div>
                  </div>
                </fieldset>
              </div>
              <div class="questiongroup-action-buttons">
                <button value="YES" type="submit" class="govuk-button govuk-!-margin-bottom-3 govuk-!-margin-right-1" data-module="govuk-button">Save and continue</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<style>
  /* Reduce the left and right margins of the main container by 50% */
  .govuk-width-container {
    max-width: 1200px !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var aloneCheckbox = document.getElementById('living_alone');
  var checkboxes = Array.from(document.querySelectorAll('input[name="living_with"]'));
  if (aloneCheckbox) {
    aloneCheckbox.addEventListener('change', function() {
      if (aloneCheckbox.checked) {
        checkboxes.forEach(function(box) {
          if (box !== aloneCheckbox) box.checked = false;
        });
        // Hide the under 18 hint if Alone is checked
        var under18Hint = document.getElementById('conditional-under18-hint');
        if (under18Hint) under18Hint.classList.add('govuk-checkboxes__conditional--hidden');
        // Hide the partner and other reveal textboxes if Alone is checked
        var partnerDetails = document.getElementById('conditional-partner-details');
        if (partnerDetails) partnerDetails.classList.add('govuk-checkboxes__conditional--hidden');
        var otherDetails = document.getElementById('conditional-other-details');
        if (otherDetails) otherDetails.classList.add('govuk-checkboxes__conditional--hidden');
      }
    });
    checkboxes.forEach(function(box) {
      if (box !== aloneCheckbox) {
        box.addEventListener('change', function() {
          if (box.checked) aloneCheckbox.checked = false;
          // Show/hide under 18 hint based on its checkbox
          var under18 = document.getElementById('living_under18');
          var under18Hint = document.getElementById('conditional-under18-hint');
          if (under18 && under18Hint) {
            if (under18.checked && !aloneCheckbox.checked) {
              under18Hint.classList.remove('govuk-checkboxes__conditional--hidden');
            } else {
              under18Hint.classList.add('govuk-checkboxes__conditional--hidden');
            }
          }
        });
      }
    });
  }
  var form = document.getElementById('form');
  if (form) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      window.location.href = 'acco3';
    });
  }
});
</script>
{% endblock %}
