{% extends "layouts/main.html" %}

{% set pageName="Test" %}

{% block content %}
<div class="govuk-width-container" style="margin-top: -80px;">
  <main class="govuk-main-wrapper app-container govuk-body" id="main-content">
    <div class="govuk-width-container">
      <div class="govuk-grid-row user-feedback">
        <div class="govuk-grid-column-full">
          <div class="govuk-phase-banner user-feedback__banner">
            <p class="govuk-phase-banner__content">
              <strong class="govuk-tag govuk-phase-banner__content__tag">
                Beta
              </strong>
              <span class="govuk-phase-banner__text">
                This is a new service - your <a class="govuk-link user-feedback__link" href="#">feedback (opens in new tab)</a> will help us improve it.
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full offender-details">
          <span style="color: #505A5F; margin: 10px 0; display: block;">
            CRN: X769773 | PNC: 01/17658481A | Date of birth: 02 October 1969
          </span>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; margin-top: 10px;">
            <h3 class="govuk-heading-m" style="margin-bottom: 0;">Alex Smith</h3>
            <a href="#" class="govuk-link print-link">View all answers</a>
          </div>
          <div id="assessment-info" class="govuk-visually-hidden" data-assessment-id="88b81aaa-7af7-49ed-8843-1fad974b3e72"></div>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          <div class="form-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h1 class="govuk-heading-l form-header__title" style="margin-bottom: 0;">Strengths and needs</h1>
            <a href="#"
               role="button"
               draggable="false"
               class="govuk-button govuk-button--secondary"
               data-module="govuk-button"
               data-ai-id="return-to-oasys"
               id="return-to-oasys"
               style="margin-bottom: 0; margin-top: 2px;">
              Return to OASys
            </a>
          </div>
          <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible form-header_hr govuk-grid-column-full" style="margin-top: 10px;">
        </div>
      </div>


      
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-third">
          <nav class="moj-side-navigation" aria-label="Side navigation">
            <ul class="moj-side-navigation__list" style="padding-left: 0; list-style: none;">
              <li class="moj-side-navigation__item moj-side-navigation__item--active" style="background: #f3f2f1; font-weight: bold; border-left: 4px solid #1d70b8; margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" aria-current="location" class="govuk-link" tabindex="-1" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; font-weight: bold; cursor: default; pointer-events: none;">Accommodation</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Employment and education</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Finances</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Drug use</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Alcohol use</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Health and wellbeing</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Personal relationships and community</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Thinking, behaviours and attitudes</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" class="govuk-link" tabindex="0" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; cursor: pointer;">Offence analysis</a>
              </li>
            </ul>
          </nav>
        </div>
        <div class="govuk-grid-column-two-thirds">
          <div class="section-heading">
            <div class="section-heading__heading" style="display: flex; justify-content: space-between; align-items: center;">
              <span class="govuk-caption-l" style="color: #0b0c0c;">Accommodation</span>
              <strong class="govuk-tag govuk-tag--grey" style="align-self: center;">Incomplete</strong>
            </div>
            <h1 class="govuk-heading-l" style="margin-bottom: 0;">What type of accommodation did Alex<br> have before custody?</h1>
          </div>
          <br>
          <div class="govuk-!-width-three-quarters">
            <form id="form" method="post" action="#">
              <div class="govuk-form-group form-group ">
                <fieldset class="govuk-fieldset">
                  <legend class="govuk-fieldset__legend accommodation govuk-fieldset__legend--m govuk-visually-hidden">
                    What type of accommodation did Alex have before custody?
                  </legend>
                  <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="accommodation_settled" name="accommodation" type="radio" value="Settled" data-aria-controls="settled-conditional">
                      <label class="govuk-label govuk-radios__label" for="accommodation_settled">Settled</label>
                    </div>
                    <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="settled-conditional">
                      <fieldset class="govuk-fieldset">
                        <legend class="govuk-visually-hidden">Settled accommodation type</legend>
                        <div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_homeowner" name="settled_type" type="radio" value="Homeowner" data-aria-controls="homeowner-address-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_homeowner">Homeowner</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="homeowner-address-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="homeowner_address">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="homeowner_address" name="homeowner_address" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_friends_family" name="settled_type" type="radio" value="Living with friends or family" data-aria-controls="friends-family-address-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_friends_family">Living with friends or family</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="friends-family-address-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="friends_family_address">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="friends_family_address" name="friends_family_address" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_renting_private" name="settled_type" type="radio" value="Renting privately" data-aria-controls="renting-private-address-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_renting_private">Renting privately</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="renting-private-address-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="renting_private_address">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="renting_private_address" name="renting_private_address" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_renting_social" name="settled_type" type="radio" value="Renting from social, local authority or other" data-aria-controls="renting-social-address-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_renting_social">Renting from social, local authority or other</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="renting-social-address-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="renting_social_address">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="renting_social_address" name="renting_social_address" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_healthcare" name="settled_type" type="radio" value="Residential healthcare" data-aria-controls="healthcare-address-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_healthcare">Residential healthcare</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="healthcare-address-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="healthcare_address">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="healthcare_address" name="healthcare_address" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_supported" name="settled_type" type="radio" value="Supported accommodation" data-aria-controls="supported-address-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_supported">Supported accommodation</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="supported-address-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="supported_address">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="supported_address" name="supported_address" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="settled_unknown" name="settled_type" type="radio" value="Unknown" data-aria-controls="settled-unknown-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="settled_unknown">Unknown</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="settled-unknown-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="settled_unknown_details">Give details (optional)</label>
                              <textarea class="govuk-textarea" id="settled_unknown_details" name="settled_unknown_details" rows="3"></textarea>
                            </div>
                            <div class="govuk-hint" style="color: #505a5f; margin-top: -25px;">You have 2,000 characters remaining</div>
                          </div>
                        </div>
                      </fieldset>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="accommodation_temporary" name="accommodation" type="radio" value="Temporary" data-aria-controls="temporary-conditional">
                      <label class="govuk-label govuk-radios__label" for="accommodation_temporary">Temporary</label>
                    </div>
                    <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="temporary-conditional">
                      <fieldset class="govuk-fieldset">
                        <legend class="govuk-visually-hidden">Temporary accommodation type</legend>
                        <div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="temporary_approved_premises" name="temporary_type" type="radio" value="Approved premises" data-aria-controls="approved-premises-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="temporary_approved_premises">Approved premises</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="approved-premises-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="approved_premises_details">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="approved_premises_details" name="approved_premises_details" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="temporary_cas2" name="temporary_type" type="radio" value="Community Accommodation Service Tier 2 (CAS2)" data-aria-controls="cas2-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="temporary_cas2">Community Accommodation Service Tier 2 (CAS2)</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="cas2-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="cas2_details">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="cas2_details" name="cas2_details" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="temporary_cas3" name="temporary_type" type="radio" value="Community Accommodation Service Tier 3 (CAS3)" data-aria-controls="cas3-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="temporary_cas3">Community Accommodation Service Tier 3 (CAS3)</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="cas3-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="cas3_details">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="cas3_details" name="cas3_details" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="temporary_immigration" name="temporary_type" type="radio" value="Immigration accommodation" data-aria-controls="immigration-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="temporary_immigration">Immigration accommodation</label>
                            <div class="govuk-hint" style="margin-left: 60px; margin-bottom: 10px; color: #505A5F;">
                              <div style="margin-bottom: 8px;">This includes:</div>
                              <ul class="govuk-list govuk-list--bullet" style="margin-bottom: 0; color: #505A5F;">
                                <li style="margin-bottom: 8px;">Schedule 10 - Home Office provides accommodation under the Immigration Act 2016</li>
                                <li>Section 4 - Home Office provides accommodation for those on immigration bail, prior to the Immigration Act 2016</li>
                              </ul>
                            </div>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="immigration-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="immigration_details">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="immigration_details" name="immigration_details" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="temporary_short_term" name="temporary_type" type="radio" value="Short term accommodation" data-aria-controls="short-term-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="temporary_short_term">Short term accommodation</label>
                            <div class="govuk-hint" style="margin-left: 60px; margin-bottom: 8px; color: #505a5f;">Includes living with friends or family, or in a hotel</div>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="short-term-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="short_term_details">What is the address? (optional)</label>
                              <textarea class="govuk-textarea" id="short_term_details" name="short_term_details" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="temporary_unknown" name="temporary_type" type="radio" value="Unknown" data-aria-controls="temporary-unknown-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="temporary_unknown">Unknown</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="temporary-unknown-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="temporary_unknown_details">Give details (optional)</label>
                              <textarea class="govuk-textarea" id="temporary_unknown_details" name="temporary_unknown_details" rows="3"></textarea>
                            </div>
                            <div class="govuk-hint" style="color: #505a5f; margin-top: -25px;">You have 2,000 characters remaining</div>
                          </div>
                        </div>
                      </fieldset>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="accommodation_none" name="accommodation" type="radio" value="No accommodation" data-aria-controls="none-conditional">
                      <label class="govuk-label govuk-radios__label" for="accommodation_none">No accommodation</label>
                    </div>
                    <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="none-conditional">
                      <fieldset class="govuk-fieldset">
                        <legend class="govuk-visually-hidden">No accommodation type</legend>
                        <div class="govuk-radios govuk-radios--conditional" data-module="govuk-radios">
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="none_campsite" name="none_type" type="radio" value="Campsite" data-aria-controls="campsite-area-conditional">
                            <label class="govuk-label govuk-radios__label" for="none_campsite">Campsite</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="campsite-area-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="campsite_area">What is the area? (optional)</label>
                              <textarea class="govuk-textarea" id="campsite_area" name="campsite_area" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="none_emergency_hostel" name="none_type" type="radio" value="Emergency hostel" data-aria-controls="emergency-hostel-area-conditional">
                            <label class="govuk-label govuk-radios__label" for="none_emergency_hostel">Emergency hostel</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="emergency-hostel-area-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="emergency_hostel_area">What is the area? (optional)</label>
                              <textarea class="govuk-textarea" id="emergency_hostel_area" name="emergency_hostel_area" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="none_homeless" name="none_type" type="radio" value="Homeless" data-aria-controls="homeless-area-conditional">
                            <label class="govuk-label govuk-radios__label" for="none_homeless">Homeless <span class="govuk-body" style="display:inline; color:#0b0c0c; font-weight:normal;">- includes squatting</span></label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="homeless-area-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="homeless_area">What is the area? (optional)</label>
                              <textarea class="govuk-textarea" id="homeless_area" name="homeless_area" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="none_rough_sleeping" name="none_type" type="radio" value="Rough sleeping" data-aria-controls="rough-sleeping-area-conditional">
                            <label class="govuk-label govuk-radios__label" for="none_rough_sleeping">Rough sleeping</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="rough-sleeping-area-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="rough_sleeping_area">What is the area? (optional)</label>
                              <textarea class="govuk-textarea" id="rough_sleeping_area" name="rough_sleeping_area" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="none_shelter" name="none_type" type="radio" value="Shelter" data-aria-controls="shelter-area-conditional">
                            <label class="govuk-label govuk-radios__label" for="none_shelter">Shelter</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="shelter-area-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="shelter_area">What is the area? (optional)</label>
                              <textarea class="govuk-textarea" id="shelter_area" name="shelter_area" rows="3"></textarea>
                            </div>
                          </div>
                          <div class="govuk-radios__item">
                            <input class="govuk-radios__input" id="none_unknown" name="none_type" type="radio" value="Unknown" data-aria-controls="none-unknown-details-conditional">
                            <label class="govuk-label govuk-radios__label" for="none_unknown">Unknown</label>
                          </div>
                          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="none-unknown-details-conditional">
                            <div class="govuk-form-group">
                              <label class="govuk-label" for="none_unknown_details">Give details (optional)</label>
                              <textarea class="govuk-textarea" id="none_unknown_details" name="none_unknown_details" rows="3"></textarea>
                            </div>
                            <div class="govuk-hint" style="color: #505a5f; margin-top: -25px;">You have 2,000 characters remaining</div>
                          </div>
                        </div>
                      </fieldset>
                    </div>
                  </div>
                </fieldset>
              </div>
              <div class="questiongroup-action-buttons">
                <button type="submit" name="accommodation_is_accommodation_user_submitted" class="govuk-button govuk-!-margin-bottom-3 govuk-!-margin-right-1" data-module="govuk-button">Save and continue</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<style>
  /* Reduce the left and right margins of the main container by 50% */
  .govuk-width-container {
    max-width: 1200px !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var form = document.getElementById('form');
  if (form) {
    form.addEventListener('submit', function(e) {
      var selected = document.querySelector('input[name="accommodation"]:checked');
      if (selected) {
        if (selected.value === 'Settled') {
          e.preventDefault();
          window.location.href = 'acco2';
        } else if (selected.value === 'Temporary') {
          var tempType = document.querySelector('input[name="temporary_type"]:checked');
          if (tempType) {
            var tempVal = tempType.value;
            if (
              tempVal === 'Approved premises' ||
              tempVal === 'Community Accommodation Service Tier 2 (CAS2)' ||
              tempVal === 'Community Accommodation Service Tier 3 (CAS3)'
            ) {
              e.preventDefault();
              window.location.href = 'acco4';
            } else if (
              tempVal === 'Immigration accommodation' ||
              tempVal === 'Short term accommodation' ||
              tempVal === 'Unknown'
            ) {
              e.preventDefault();
              window.location.href = 'acco2';
            }
          } else {
            // No temporary_type selected, stay on page or show error
            e.preventDefault();
          }
        } else if (selected.value === 'No accommodation') {
          e.preventDefault();
          window.location.href = 'acco2noacco';
        }
      }
    });
  }
});
</script>
{% endblock %}
