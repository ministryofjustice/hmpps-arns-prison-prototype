{% extends "layouts/main.html" %}

{% set pageName="Test" %}

{% block content %}
<div class="govuk-width-container" style="margin-top: -80px;">
  <main class="govuk-main-wrapper app-container govuk-body" id="main-content">
    <div class="govuk-width-container">
      <div class="govuk-grid-row user-feedback">
        <div class="govuk-grid-column-full">
          <div class="govuk-phase-banner user-feedback__banner">
            <p class="govuk-phase-banner__content">
              <strong class="govuk-tag govuk-phase-banner__content__tag">
                Beta
              </strong>
              <span class="govuk-phase-banner__text">
                This is a new service - your <a class="govuk-link user-feedback__link" target="_blank" rel="noopener noreferrer" href="#">feedback (opens in new tab)</a> will help us improve it.
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full offender-details">
          <span style="color: #505A5F; margin: 10px 0; display: block;">
            CRN: X769773 | PNC: 01/17658481A | Date of birth: 02 October 1969
          </span>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; margin-top: 10px;">
            <h3 class="govuk-heading-m" style="margin-bottom: 0;">Alex Smith</h3>
            <a href="print-preview" class="govuk-link print-link">View all answers</a>
          </div>
          <div id="assessment-info" class="govuk-visually-hidden" data-assessment-id="88b81aaa-7af7-49ed-8843-1fad974b3e72"></div>
        </div>
      </div>
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
          <div class="form-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h1 class="govuk-heading-l form-header__title" style="margin-bottom: 0;">Strengths and needs</h1>
            <a href="#"
               role="button"
               draggable="false"
               class="govuk-button govuk-button--secondary"
               data-module="govuk-button"
               data-ai-id="return-to-oasys"
               id="return-to-oasys"
               style="margin-bottom: 0; margin-top: 2px;">
              Return to OASys
            </a>
          </div>
          <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible form-header_hr govuk-grid-column-full" style="margin-top: 10px;">
        </div>
      </div>


      
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-third">
          <nav class="moj-side-navigation" aria-label="Side navigation">
            <ul class="moj-side-navigation__list" style="padding-left: 0; list-style: none;">
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Accommodation</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Employment and education</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Finances</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Drug use</a>
              </li>
              <li class="moj-side-navigation__item moj-side-navigation__item--active" style="background: #f3f2f1; font-weight: bold; border-left: 4px solid #1d70b8; margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" aria-current="location" class="govuk-link" tabindex="-1" aria-disabled="true" onclick="return false;" style="color: #1d70b8; text-decoration: none; font-weight: bold; cursor: default; pointer-events: none;">Alcohol use</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Health and wellbeing</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Personal relationships and community</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Thinking, behaviours and attitudes</a>
              </li>
              <li class="moj-side-navigation__item" style="margin-bottom: 5px; padding: 8px 16px;">
                <a href="#" style="color: #1d70b8; text-decoration: none;">Offence analysis</a>
              </li>
            </ul>
          </nav>
        </div>
        <div class="govuk-grid-column-two-thirds">
          <div class="section-heading">
            <div class="section-heading__heading" style="display: flex; justify-content: space-between; align-items: center;">
              <span class="govuk-caption-l" style="color: #0b0c0c;">Alcohol use</span>
              <strong class="govuk-tag govuk-tag--grey" style="align-self: center;">Incomplete</strong>
            </div>
            <h2 class="govuk-heading-l" style="margin-bottom: 0;">Alcohol use background</h2>
          </div>
          <br>
          <div class="govuk-!-width-three-quarters">
            <form id="form" method="post" action="#">
              <div class="govuk-form-group form-group ">
                <fieldset class="govuk-fieldset" aria-describedby="alcohol_use-hint">
                  <legend class="govuk-fieldset__legend alcohol_use govuk-fieldset__legend--m">
                    Has Alex ever drunk alcohol?
                  </legend>
                  <div id="alcohol_use-hint" class="govuk-hint">
                    This includes all types of alcoholic drinks.
                  </div>
                  <div class="govuk-radios" data-module="govuk-radios">
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="alcohol_use" name="alcohol_use" type="radio" value="YES" aria-controls="conditional-alcohol_use" aria-expanded="false">
                      <label class="govuk-label govuk-radios__label" for="alcohol_use">Yes</label>
                    </div>
                    <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-alcohol_use">
                      <div class="govuk-form-group form-group ">
                        <fieldset class="govuk-fieldset" aria-describedby="alcohol_location-hint">
                          <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                            Where have they drunk alcohol?
                          </legend>
                          <div id="alcohol_location-hint" class="govuk-hint">
                            Select one or both.
                          </div>
                          <div class="govuk-checkboxes" data-module="govuk-checkboxes">
                            <div class="govuk-checkboxes__item">
                              <input class="govuk-checkboxes__input" id="alcohol_location_community" name="alcohol_location" type="checkbox" value="community">
                              <label class="govuk-label govuk-checkboxes__label" for="alcohol_location_community">Before custody</label>
                            </div>
                            <div class="govuk-checkboxes__item">
                              <input class="govuk-checkboxes__input" id="alcohol_location_custody" name="alcohol_location" type="checkbox" value="custody">
                              <label class="govuk-label govuk-checkboxes__label" for="alcohol_location_custody">In custody</label>
                            </div>
                          </div>
                        </fieldset>
                      </div>
                    </div>
                    <div class="govuk-radios__item">
                      <input class="govuk-radios__input" id="alcohol_use-2" name="alcohol_use" type="radio" value="NO">
                      <label class="govuk-label govuk-radios__label" for="alcohol_use-2">No</label>
                    </div>
                  </div>
                </fieldset>
              </div>
              <div class="questiongroup-action-buttons">
                <button value="YES" type="submit" name="drug_use_is_drug_use_user_submitted" class="govuk-button govuk-!-margin-bottom-3 govuk-!-margin-right-1" data-module="govuk-button">Save and continue</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<style>
  /* Reduce the left and right margins of the main container by 50% */
  .govuk-width-container {
    max-width: 1200px !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var form = document.getElementById('form');
  if (form) {
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      var yesRadio = document.getElementById('alcohol_use');
      var noRadio = document.getElementById('alcohol_use-2');
      var beforeCustodyCheckbox = document.getElementById('alcohol_location_community');
      var inCustodyCheckbox = document.getElementById('alcohol_location_custody');
      
      if (yesRadio && yesRadio.checked) {
        // Check which checkboxes are selected
        var beforeCustodySelected = beforeCustodyCheckbox && beforeCustodyCheckbox.checked;
        var inCustodySelected = inCustodyCheckbox && inCustodyCheckbox.checked;
        
        if (beforeCustodySelected && !inCustodySelected) {
          // Only "Before custody" selected - go to alco2b
          window.location.href = 'alco2.html';
        } else if (!beforeCustodySelected && inCustodySelected) {
          // Only "In custody" selected - go to alco2a
          window.location.href = 'alco2a.html';
        } else if (beforeCustodySelected && inCustodySelected) {
          // Both "Before custody" AND "In custody" selected - go to duo/alco2b
          window.location.href = 'duo/alco2b.html';
        } else {
          // No checkboxes selected - default to alco2b
          window.location.href = 'alco2b.html';
        }
      } else if (noRadio && noRadio.checked) {
        // "No" selected - go to duo/alco5no
        window.location.href = 'duo/alco5no.html';
      }
    });
  }
});
</script>
{% endblock %}
